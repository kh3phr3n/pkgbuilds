# Maintainer: Remi Casanova <rc.dev@tuxico.com>
# Contributor: Andy Kluger <AndyKluger@gmail.com>
# Contributor: Markus Weimar <mail@markusweimar.de>

pkgname=ttf-iosevka-custom
pkgver=1.12.5
pkgrel=1

arch=('any')
depends=('fontconfig' 'xorg-font-utils')
makedepends=('git' 'npm' 'nodejs' 'otfcc' 'ttfautohint')

license=('custom:OFL')
url="https://be5invis.github.io/Iosevka/"
pkgdesc="Spatial efficient monospace font family for programming."

source=("https://github.com/be5invis/Iosevka/archive/v${pkgver}.tar.gz")
sha256sums=("fb9ab69308b6d75880db236f1f29e539b4037dfb11c5a5580a48682d4c25bff8")

build() {
    cd ${srcdir}/Iosevka-${pkgver} && npm install
    make custom-config design='term v-brace-straight v-numbersign-slanted' && make custom
}

package() {
    install -Dm644 ${srcdir}/Iosevka-${pkgver}/dist/*/*.ttf -t ${pkgdir}/usr/share/fonts/iosevka
    install -Dm644 ${srcdir}/Iosevka-${pkgver}/LICENSE.md ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE.md
}

