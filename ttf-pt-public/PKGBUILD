# Maintainer: RÃ©mi Casanova <kh3phr3n@nixsys.fr>

pkgname=ttf-pt-public
pkgver=1.0
pkgrel=1

arch=('any')
license=('custom:OFL')
depends=('fontconfig')
makedepends=('perl-rename')

url="https://www.paratype.com/collections/pt/44157"
pkgdesc="PT Public Pack fonts collection by Paratype."

source=(
    "PT Public Pack_OtTt.zip"
    "PT Sans Pro Demi_OtPs.zip"
)

sha256sums=(
    "5ed3d8b3b375152e286ce82b96d5b46aba67d5b3c07aa06f5b0f716196dd1441"
    "b1d2e6ff87a9e6f4c1f53eba3278aa542180c353fa5af869ca371a1c80491944"
)

build() {
    # Move all ttf fonts to the same directory
    mv ${srcdir}/Fonts/*/*.ttf ${srcdir}/Fonts

    # Rename all font filenames without spaces...
    perl-rename 's/_/-/g;s/ //g' ${srcdir}/Fonts/*.*tf
}

package() {
    install -Dm644 ${srcdir}/Fonts/*.*tf -t ${pkgdir}/usr/share/fonts/pt-public
    install -Dm644 ${srcdir}/Documents/OFL.txt ${pkgdir}/usr/share/licenses/${pkgname}/OFL.txt
}

